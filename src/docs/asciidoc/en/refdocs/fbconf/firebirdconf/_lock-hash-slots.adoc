[#fbconf-lock-hash-slots]
= `LockHashSlots`

Number of hash slots for locks.

.Configuration
Global, and per-database

.Syntax
[listing,subs=+quotes]
----
LockHashSlots = _integer_
----

.Range
`101` - `65521`

.Default
`8191`

Use of prime numbers is highly recommended.
Setting out of range values will use the boundary values.

The number of hash slots determines how locks are distributed in the lock hash table.
If two or more locks are assigned to the same hash slot, they are chained together, and the server must "`walk`" this chain to find the right lock in the slot.

If the _average_ length of lock chains is very long (e.g. 20 locks on average), performance of the server may be affected.
In that case, you can increase the number of `LockHashSlots` to a higher prime number.
You can use `fb_lock_print` to determine the average lock chain length (called "`Hash lengths`" in the lock print output).

.Example
[listing]
----
# Use 9001 hash slots
LockHashSlots = 9001
----
